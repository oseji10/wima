import{r as a,j as M}from"./app-D2HhEiq1.js";import{u as b}from"./utils-B_gyG4rF.js";function R(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function E(e,t){const n=a.createContext(t),o=f=>{const{children:s,...c}=f,i=a.useMemo(()=>c,Object.values(c));return M.jsx(n.Provider,{value:i,children:s})};o.displayName=e+"Provider";function r(f){const s=a.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${f}\` must be used within \`${e}\``)}return[o,r]}function z(e,t=[]){let n=[];function o(f,s){const c=a.createContext(s),i=n.length;n=[...n,s];const u=m=>{var v;const{scope:d,children:l,...N}=m,h=((v=d==null?void 0:d[e])==null?void 0:v[i])||c,S=a.useMemo(()=>N,Object.values(N));return M.jsx(h.Provider,{value:S,children:l})};u.displayName=f+"Provider";function p(m,d){var h;const l=((h=d==null?void 0:d[e])==null?void 0:h[i])||c,N=a.useContext(l);if(N)return N;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${f}\``)}return[u,p]}const r=()=>{const f=n.map(s=>a.createContext(s));return function(c){const i=(c==null?void 0:c[e])||f;return a.useMemo(()=>({[`__scope${e}`]:{...c,[e]:i}}),[c,i])}};return r.scopeName=e,[o,g(r,...t)]}function g(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(f){const s=o.reduce((c,{useScope:i,scopeName:u})=>{const m=i(f)[`__scope${u}`];return{...c,...m}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var A=globalThis!=null&&globalThis.document?a.useLayoutEffect:()=>{};function P(e,t){return a.useReducer((n,o)=>t[n][o]??n,e)}var O=e=>{const{present:t,children:n}=e,o=w(t),r=typeof n=="function"?n({present:o.isPresent}):a.Children.only(n),f=b(o.ref,y(r));return typeof n=="function"||o.isPresent?a.cloneElement(r,{ref:f}):null};O.displayName="Presence";function w(e){const[t,n]=a.useState(),o=a.useRef(null),r=a.useRef(e),f=a.useRef("none"),s=e?"mounted":"unmounted",[c,i]=P(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const u=x(o.current);f.current=c==="mounted"?u:"none"},[c]),A(()=>{const u=o.current,p=r.current;if(p!==e){const d=f.current,l=x(u);e?i("MOUNT"):l==="none"||(u==null?void 0:u.display)==="none"?i("UNMOUNT"):i(p&&d!==l?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,i]),A(()=>{if(t){let u;const p=t.ownerDocument.defaultView??window,m=l=>{const h=x(o.current).includes(l.animationName);if(l.target===t&&h&&(i("ANIMATION_END"),!r.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},d=l=>{l.target===t&&(f.current=x(o.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:a.useCallback(u=>{o.current=u?getComputedStyle(u):null,n(u)},[])}}function x(e){return(e==null?void 0:e.animationName)||"none"}function y(e){var o,r;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function I(e){const[t,n]=a.useState(void 0);return A(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const f=r[0];let s,c;if("borderBoxSize"in f){const i=f.borderBoxSize,u=Array.isArray(i)?i[0]:i;s=u.inlineSize,c=u.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}export{O as P,R as a,A as b,z as c,E as d,I as u};
