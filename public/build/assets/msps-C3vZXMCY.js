import{r as l,m as J,j as e,L as K}from"./app-CScO8qSQ.js";import{A as Q}from"./app-layout-Ctn8-cYw.js";import"./button-CnGhJxEf.js";import"./index-C50qIgXH.js";import"./index-HxLeryt1.js";const U=[{title:"Mechanized Service Providers",href:"/dashboard"}];function se({msps:p,memberships:C,position:P}){const[M,n]=l.useState(!1),[L,b]=l.useState(!1),[h,y]=l.useState(null),[r,A]=l.useState(null),[a,d]=l.useState(1),[u,I]=l.useState(""),[f,E]=l.useState(""),[k,F]=l.useState(""),[j,z]=l.useState(""),i=10,{data:m,setData:x,post:D,put:O,processing:S,errors:s,reset:o}=J({mspId:"",mspName:"",state:"",lga:"",position:"",membership_plan:"",services:""}),c=p.filter(t=>{var g;return(u===""||t.state.stateName.toLowerCase()===u.toLowerCase())&&(f===""||t.lga.lgaName.toLowerCase()===f.toLowerCase())&&(k===""||t.position.positionName.toLowerCase()===k.toLowerCase())&&(j===""||((g=t.membership_plan)==null?void 0:g.membershipPlanName.toLowerCase())===j.toLowerCase())}),N=Math.ceil(c.length/i),_=c.slice((a-1)*i,a*i),G=(a-1)*i+1,V=Math.min(a*i,c.length),B=c.length,R=Array.from(new Set(p.map(t=>t.state.stateName))).sort(),$=Array.from(new Set(p.map(t=>t.lga.lgaName))).sort(),T=t=>{t.preventDefault(),h?O(`/dbas/${h.id}`,{onSuccess:()=>{n(!1),y(null),o()}}):D("/dbas",{onSuccess:()=>{n(!1),o()}})},W=t=>{A(t),b(!0)},v=t=>{t>=1&&t<=N&&d(t)},H=()=>{const t=[],g=Math.max(1,a-1),q=Math.min(N,a+1);for(let w=g;w<=q;w++)t.push(w);return t};return e.jsxs(Q,{breadcrumbs:U,children:[e.jsx(K,{title:"Mechanized Service Providers"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 p-2 sm:gap-4 sm:p-4",children:[e.jsx("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:flex-wrap",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:flex-wrap",children:[e.jsxs("div",{className:"w-full sm:w-48",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by State"}),e.jsxs("select",{value:u,onChange:t=>{I(t.target.value),d(1)},className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All States"}),R.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"w-full sm:w-48",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by LGA"}),e.jsxs("select",{value:f,onChange:t=>{E(t.target.value),d(1)},className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All LGAs"}),$.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"w-full sm:w-48",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Position"}),e.jsxs("select",{value:k,onChange:t=>{F(t.target.value),d(1)},className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All Positions"}),P.map(t=>e.jsx("option",{value:t.positionName,children:t.positionName},t.positionId))]})]}),e.jsxs("div",{className:"w-full sm:w-48",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Membership Plan"}),e.jsxs("select",{value:j,onChange:t=>{z(t.target.value),d(1)},className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All Membership Plans"}),C.map(t=>e.jsx("option",{value:t.membershipPlanName,children:t.membershipPlanName},t.membershipPlanId))]})]})]})}),e.jsxs("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 hidden sm:table-header-group",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Image"}),e.jsx("th",{className:"px-4 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"MSP ID"}),e.jsx("th",{className:"px-4 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"State"}),e.jsx("th",{className:"px-4 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"LGA"}),e.jsx("th",{className:"px-4 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:_.map(t=>e.jsxs("tr",{className:"block sm:table-row bg-white dark:bg-gray-900 sm:bg-transparent sm:dark:bg-transparent hover:bg-gray-50 dark:hover:bg-gray-800 mb-4 sm:mb-0 border-b sm:border-0",children:[e.jsx("td",{className:"block sm:table-cell px-4 py-2 text-sm text-gray-900 dark:text-gray-100 sm:whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center sm:block",children:[e.jsx("span",{className:"font-medium sm:hidden mr-2",children:"Image:"}),e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})]})}),e.jsxs("td",{className:"block sm:table-cell px-4 py-2 text-sm text-gray-900 dark:text-gray-100 sm:whitespace-nowrap",children:[e.jsx("span",{className:"font-medium sm:hidden",children:"MSP ID:"})," ",t.mspId]}),e.jsxs("td",{className:"block sm:table-cell px-4 py-2 text-sm text-gray-900 dark:text-gray-100",style:{textTransform:"uppercase"},children:[e.jsx("span",{className:"font-medium sm:hidden",children:"Name:"})," ",t.mspName]}),e.jsxs("td",{className:"block sm:table-cell px-4 py-2 text-sm text-gray-900 dark:text-gray-100 sm:whitespace-nowrap",children:[e.jsx("span",{className:"font-medium sm:hidden",children:"State:"})," ",t.state.stateName]}),e.jsxs("td",{className:"block sm:table-cell px-4 py-2 text-sm text-gray-900 dark:text-gray-100 sm:whitespace-nowrap",children:[e.jsx("span",{className:"font-medium sm:hidden",children:"LGA:"})," ",t.lga.lgaName]}),e.jsx("td",{className:"block sm:table-cell px-4 py-2 text-sm text-gray-900 dark:text-gray-100 sm:whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-2 sm:justify-start",children:[e.jsx("span",{className:"font-medium sm:hidden",children:"Actions:"}),e.jsx("button",{onClick:()=>W(t),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:"View",children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})})]},t.id))})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-center mt-4 px-4 py-2 sm:px-6 sm:py-3 gap-2",children:[e.jsx("button",{onClick:()=>v(a-1),disabled:a===1,className:"px-3 py-1 sm:px-4 sm:py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 disabled:opacity-50 text-sm sm:text-base",children:"Previous"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[e.jsxs("div",{className:"text-gray-700 dark:text-gray-300 text-xs sm:text-sm",children:[G,"-",V," of ",B]}),e.jsx("div",{className:"flex space-x-2",children:H().map(t=>e.jsx("button",{onClick:()=>v(t),className:`px-2 py-1 sm:px-3 sm:py-1 rounded-md text-sm sm:text-base ${a===t?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:t},t))})]}),e.jsx("button",{onClick:()=>v(a+1),disabled:a===N,className:"px-3 py-1 sm:px-4 sm:py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 disabled:opacity-50 text-sm sm:text-base",children:"Next"})]})]}),M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-6 shadow-xl border border-gray-200 dark:border-gray-700 w-[calc(100%-1rem)] sm:w-full max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:h?"Edit MSP":"Add New MSP"}),e.jsx("button",{onClick:()=>{n(!1),y(null),o()},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none text-sm sm:text-base",children:"✕"})]}),e.jsxs("form",{onSubmit:T,children:[e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"MSP ID"}),e.jsx("input",{type:"text",value:m.mspId,onChange:t=>x("mspId",t.target.value),className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out text-sm sm:text-base",placeholder:"Enter MSP ID"}),s.mspId&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:s.mspId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:m.mspName,onChange:t=>x("mspName",t.target.value),className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out text-sm sm:text-base",placeholder:"Enter MSP name"}),s.mspName&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:s.mspName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"State"}),e.jsx("input",{type:"text",value:m.state,onChange:t=>x("state",t.target.value),className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out text-sm sm:text-base",placeholder:"Enter state"}),s.state&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:s.state})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"LGA"}),e.jsx("input",{type:"text",value:m.lga,onChange:t=>x("lga",t.target.value),className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out text-sm sm:text-base",placeholder:"Enter LGA"}),s.lga&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:s.lga})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Position"}),e.jsx("input",{type:"text",value:m.position,onChange:t=>x("position",t.target.value),className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out text-sm sm:text-base",placeholder:"Enter position"}),s.position&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:s.position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Membership Plan"}),e.jsx("input",{type:"text",value:m.membership_plan,onChange:t=>x("membership_plan",t.target.value),className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out text-sm sm:text-base",placeholder:"Enter membership plan"}),s.membership_plan&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:s.membership_plan})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Services"}),e.jsx("input",{type:"text",value:m.services,onChange:t=>x("services",t.target.value),className:"block w-full px-3 py-1 sm:px-4 sm:py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out text-sm sm:text-base",placeholder:"Enter services"}),s.services&&e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-red-600",children:s.services})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-6 flex justify-end gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),y(null),o()},className:"px-3 py-1 sm:px-4 sm:py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition duration-150 ease-in-out text-sm sm:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:S,className:"px-3 py-1 sm:px-4 sm:py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition duration-150 ease-in-out text-sm sm:text-base",children:S?"Saving...":"Save"})]})]})]})}),L&&r&&e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 sm:p-6 shadow-xl border border-gray-200 dark:border-gray-700 w-[calc(100%-1rem)] sm:w-full max-w-full sm:max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"MSP Details"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none text-sm sm:text-base",children:"✕"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("svg",{className:"w-16 h-16 sm:w-24 sm:h-24 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"MSP ID"}),e.jsx("p",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:r.mspId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),e.jsx("p",{className:"text-gray-900 dark:text-white text-sm sm:text-base",style:{textTransform:"uppercase"},children:r.mspName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"State"}),e.jsx("p",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:r.state.stateName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"LGA"}),e.jsx("p",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:r.lga.lgaName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Position"}),e.jsx("p",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:r.position.positionName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Membership Plan"}),e.jsx("p",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:r.membership_plan?`${r.membership_plan.membershipPlanName} MEMBERSHIP`:"None"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Services"}),e.jsx("p",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:r.services})]})]}),e.jsx("div",{className:"mt-4 sm:mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>b(!1),className:"px-3 py-1 sm:px-4 sm:py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition duration-150 ease-in-out text-sm sm:text-base",children:"Close"})})]})})]})]})}export{se as default};
